(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{64663:function(e,t,a){Promise.resolve().then(a.bind(a,73243))},73243:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return H}});var r=a(57437),s=a(2265),n=a(44839),o=a(96164);function d(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.m6)((0,n.W)(t))}let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",a),...s})});c.displayName="CardTitle";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:d("text-sm text-muted-foreground",a),...s})});u.displayName="CardDescription";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("p-6 pt-0",a),...s})});f.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var m=a(12218);let p=(0,m.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function x(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:d(p({variant:a}),t),...s})}var h=a(71538);let g=(0,m.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),y=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:o=!1,...l}=e,i=o?h.g7:"button";return(0,r.jsx)(i,{className:d(g({variant:s,size:n,className:a})),ref:t,...l})});y.displayName="Button";var b=a(6460),j=a(24241),v=a(70518),N=a(87592),w=a(83045);function _(e){let{className:t,classNames:a,showOutsideDays:s=!0,...n}=e;return(0,r.jsx)(w._W,{showOutsideDays:s,className:d("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:d(g({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:d(g({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,r.jsx)(v.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,r.jsx)(N.Z,{className:"h-4 w-4"})}},...n})}_.displayName="Calendar";var k=a(95215);let C=k.fC,S=k.xz,R=s.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:n=4,...o}=e;return(0,r.jsx)(k.h_,{children:(0,r.jsx)(k.VY,{ref:t,align:s,sideOffset:n,className:d("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});function z(e){let{date:t,onDateChange:a}=e;return(0,r.jsxs)(C,{children:[(0,r.jsx)(S,{asChild:!0,children:(0,r.jsxs)(y,{variant:"outline",className:d("w-[280px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[(0,r.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),t?(0,b.WU)(t,"PPP"):(0,r.jsx)("span",{children:"Pick a date"})]})}),(0,r.jsx)(R,{className:"w-auto p-0",children:(0,r.jsx)(_,{mode:"single",selected:t,onSelect:a,initialFocus:!0})})]})}R.displayName=k.VY.displayName;var Z=a(35231),P=a(41672),V=a(54142),E=a(2842),O=a(9542),D=a(85475),F=a(13971);function M(e){let{data:t,className:a=""}=e;return(0,r.jsx)("div",{className:"h-[300px] w-full ".concat(a),children:(0,r.jsx)(Z.h,{width:"100%",height:"100%",children:(0,r.jsxs)(P.v,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[(0,r.jsx)(V.q,{strokeDasharray:"3 3"}),(0,r.jsx)(E.K,{dataKey:"symbol"}),(0,r.jsx)(O.B,{}),(0,r.jsx)(D.u,{}),(0,r.jsx)(F.$,{dataKey:"amount",fill:"#8884d8"})]})})})}var T=a(9902),I=a(42421),Y=a(14392),B=a(22468);let K=T.fC;T.ZA;let W=T.B4,$=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(T.xz,{ref:t,className:d("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[s,(0,r.jsx)(T.JO,{asChild:!0,children:(0,r.jsx)(I.Z,{className:"h-4 w-4 opacity-50"})})]})});$.displayName=T.xz.displayName;let A=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(T.u_,{ref:t,className:d("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(Y.Z,{className:"h-4 w-4"})})});A.displayName=T.u_.displayName;let G=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(T.$G,{ref:t,className:d("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(I.Z,{className:"h-4 w-4"})})});G.displayName=T.$G.displayName;let L=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...o}=e;return(0,r.jsx)(T.h_,{children:(0,r.jsxs)(T.VY,{ref:t,className:d("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...o,children:[(0,r.jsx)(A,{}),(0,r.jsx)(T.l_,{className:d("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(G,{})]})})});L.displayName=T.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(T.__,{ref:t,className:d("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=T.__.displayName;let U=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(T.ck,{ref:t,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(T.wU,{children:(0,r.jsx)(B.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(T.eT,{children:s})]})});function q(e){let{mentions:t,selectedStocks:a,onStockSelect:s}=e;return(0,r.jsxs)(K,{onValueChange:s,children:[(0,r.jsx)($,{className:"w-full",children:(0,r.jsx)(W,{placeholder:"Select a stock"})}),(0,r.jsx)(L,{children:t.map(e=>(0,r.jsxs)(U,{value:e.stockSymbol,children:[e.stockSymbol," (",e.count,")"]},e.stockId))})]})}function H(){let[e,t]=(0,s.useState)(new Date),[a,n]=(0,s.useState)([]),{mentions:o,isLoading:d,error:m,fetchMentions:p}=function(){let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!1),[n,o]=(0,s.useState)(null);return{mentions:e,isLoading:a,error:n,fetchMentions:(0,s.useCallback)(async e=>{r(!0),o(null);try{let a=await fetch("".concat("https://api.adrianlopez.tech/api","/mentions-count?date=").concat(e.toISOString().split("T")[0]));if(!a.ok)throw Error("Failed to fetch mentions");let r=await a.json();t(r||[])}catch(e){console.error("Error fetching mentions:",e),o("Failed to fetch mentions. Please try again."),t([])}finally{r(!1)}},[])}}();(0,s.useEffect)(()=>{p(e),n([])},[e,p]);let h=(0,s.useMemo)(()=>a.map(e=>{let t=o.find(t=>t.stockSymbol===e);return{symbol:e,amount:t?t.count:0}}),[a,o]),g=(0,s.useMemo)(()=>h.reduce((e,t)=>e+t.amount,0),[h]),b=e=>{n(t=>t.filter(t=>t!==e))};return m?(0,r.jsx)("div",{className:"text-red-500",children:m}):(0,r.jsx)("div",{className:"container mx-auto p-4",children:(0,r.jsxs)(l,{children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Stock Mentions Chart"}),(0,r.jsxs)(u,{children:["Total Mentions: ",g]})]}),(0,r.jsxs)(f,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)(z,{date:e,onDateChange:e=>{e&&t(e)}}),(0,r.jsx)(y,{onClick:()=>{n(o.slice(0,20).map(e=>e.stockSymbol))},disabled:d,children:"Select Top 20"})]}),d?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"".concat(0===a.length?"blur-sm":""),children:(0,r.jsx)(M,{data:h})}),0===a.length&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"bg-white p-4 rounded shadow-lg",children:"No stocks selected. Please select a stock to view the chart."})})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(q,{mentions:o,selectedStocks:a,onStockSelect:e=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}})}),(0,r.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:a.map(e=>(0,r.jsxs)(x,{variant:"secondary",onClick:()=>b(e),children:[e," ",(0,r.jsx)("span",{className:"ml-1 cursor-pointer",children:"\xd7"})]},e))})]})]})]})})}U.displayName=T.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(T.Z0,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=T.Z0.displayName}},function(e){e.O(0,[451,971,23,744],function(){return e(e.s=64663)}),_N_E=e.O()}]);